<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>동영상 테스트</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #000;
            color: white;
            font-family: Arial, sans-serif;
        }
        .test-section {
            margin: 20px 0;
            border: 1px solid #333;
            padding: 20px;
        }
        video {
            width: 100%;
            max-width: 600px;
            height: auto;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            background: #333;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>🎬 동영상 테스트</h1>
    
    <div class="test-section">
        <h2>1. Cloudinary 동영상 테스트</h2>
        <div class="status" id="status1">로딩 중...</div>
        <video id="video1" controls muted autoplay>
            <source src="https://res.cloudinary.com/di2pd92t1/video/upload/v1748237173/Dunlopillo-Crash-Test-Flexibilitet-web_n045ph.mp4" type="video/mp4">
            동영상을 지원하지 않는 브라우저입니다.
        </video>
    </div>

    <div class="test-section">
        <h2>2. 동영상 순환 테스트</h2>
        <div class="status" id="status2">로딩 중...</div>
        <video id="video2" controls muted>
            동영상을 지원하지 않는 브라우저입니다.
        </video>
        <button onclick="nextVideo()">다음 동영상</button>
        <div id="videoInfo"></div>
    </div>

    <script>
        // 동영상 소스들
        const VIDEO_SOURCES = [
            "https://res.cloudinary.com/di2pd92t1/video/upload/v1748237173/Dunlopillo-Crash-Test-Flexibilitet-web_n045ph.mp4",
            "https://res.cloudinary.com/di2pd92t1/video/upload/v1748237657/Dunlopillo-Crash-Test-Stabilitet-web_mvxr27.mp4", 
            "https://res.cloudinary.com/di2pd92t1/video/upload/v1748241410/Dunlopillo-Crash-Test-Allergivenlig-A%CC%8Andba%CC%8Ar-web_wxolsb.mp4"
        ];

        let currentVideoIndex = 0;
        const video1 = document.getElementById('video1');
        const video2 = document.getElementById('video2');
        const status1 = document.getElementById('status1');
        const status2 = document.getElementById('status2');
        const videoInfo = document.getElementById('videoInfo');

        // 첫 번째 동영상 이벤트
        video1.addEventListener('loadstart', () => {
            status1.textContent = '로딩 시작...';
            status1.style.background = '#666';
        });

        video1.addEventListener('loadeddata', () => {
            status1.textContent = '✅ 로드 완료!';
            status1.style.background = '#2e7d32';
        });

        video1.addEventListener('error', (e) => {
            status1.textContent = '❌ 로드 실패: ' + e.message;
            status1.style.background = '#d32f2f';
            console.error('Video1 error:', e);
        });

        video1.addEventListener('canplay', () => {
            console.log('Video1 can play');
        });

        // 두 번째 동영상 설정
        function updateVideo2() {
            const src = VIDEO_SOURCES[currentVideoIndex];
            video2.src = src;
            videoInfo.innerHTML = `
                현재: ${currentVideoIndex + 1}/${VIDEO_SOURCES.length}<br>
                URL: <small>${src}</small>
            `;
            
            status2.textContent = '로딩 중...';
            status2.style.background = '#666';
        }

        video2.addEventListener('loadeddata', () => {
            status2.textContent = '✅ 로드 완료!';
            status2.style.background = '#2e7d32';
        });

        video2.addEventListener('error', (e) => {
            status2.textContent = '❌ 로드 실패';
            status2.style.background = '#d32f2f';
            console.error('Video2 error:', e);
        });

        video2.addEventListener('ended', () => {
            console.log('동영상 종료, 다음으로...');
            nextVideo();
        });

        function nextVideo() {
            currentVideoIndex = (currentVideoIndex + 1) % VIDEO_SOURCES.length;
            updateVideo2();
        }

        // 초기 설정
        updateVideo2();

        // 콘솔 로그
        console.log('🎬 동영상 테스트 시작');
        console.log('VIDEO_SOURCES:', VIDEO_SOURCES);
    </script>
</body>
</html>
