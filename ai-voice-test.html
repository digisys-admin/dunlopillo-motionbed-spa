<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ìŒì„± ì•ˆë‚´ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .test-title {
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        textarea {
            width: 100%;
            height: 100px;
            padding: 15px;
            border-radius: 10px;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 14px;
            font-family: inherit;
            resize: vertical;
        }
        
        .button-group {
            margin: 15px 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .status {
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: 500;
        }
        
        .status.loading {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid #ffc107;
        }
        
        .status.success {
            background: rgba(40, 167, 69, 0.2);
            border: 1px solid #28a745;
        }
        
        .status.error {
            background: rgba(220, 53, 69, 0.2);
            border: 1px solid #dc3545;
        }
        
        .audio-player {
            margin: 15px 0;
        }
        
        audio {
            width: 100%;
            border-radius: 10px;
        }
        
        .preset-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .preset-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: left;
            padding: 15px;
            font-size: 13px;
        }
        
        .voice-settings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .voice-setting {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        select, input[type="range"] {
            padding: 8px;
            border-radius: 5px;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        
        .range-value {
            font-size: 12px;
            text-align: center;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤ AI ìŒì„± ì•ˆë‚´ í…ŒìŠ¤íŠ¸</h1>
            <p>Vrew AI ë˜ëŠ” Web Speech APIë¥¼ ì‚¬ìš©í•œ ìŒì„± ì•ˆë‚´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</p>
        </div>

        <!-- 1. Web Speech API í…ŒìŠ¤íŠ¸ (ê¸°ë³¸ ë¸Œë¼ìš°ì € TTS) -->
        <div class="test-section">
            <div class="test-title">
                ğŸ—£ï¸ Web Speech API í…ŒìŠ¤íŠ¸ (ê¸°ë³¸ ë¸Œë¼ìš°ì € ìŒì„±)
            </div>
            <textarea id="textInput1" placeholder="ìŒì„±ìœ¼ë¡œ ì½ì„ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">ì•ˆë…•í•˜ì„¸ìš”! ë˜ë¡­í•„ë¡œ ëª¨ì…˜ë² ë“œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ì´ì œ í¸ì•ˆí•œ ìˆ˜ë©´ì˜ ì„¸ê³„ë¡œ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</textarea>
            
            <div class="voice-settings">
                <div class="voice-setting">
                    <label>ìŒì„± ì„ íƒ:</label>
                    <select id="voiceSelect"></select>
                </div>
                <div class="voice-setting">
                    <label>ì†ë„:</label>
                    <input type="range" id="rateRange" min="0.5" max="2" step="0.1" value="1">
                    <div class="range-value" id="rateValue">1.0</div>
                </div>
                <div class="voice-setting">
                    <label>ìŒë†’ì´:</label>
                    <input type="range" id="pitchRange" min="0" max="2" step="0.1" value="1">
                    <div class="range-value" id="pitchValue">1.0</div>
                </div>
                <div class="voice-setting">
                    <label>ë³¼ë¥¨:</label>
                    <input type="range" id="volumeRange" min="0" max="1" step="0.1" value="1">
                    <div class="range-value" id="volumeValue">1.0</div>
                </div>
            </div>
            
            <div class="button-group">
                <button onclick="speakText()">ğŸ”Š ìŒì„± ì¬ìƒ</button>
                <button onclick="stopSpeaking()">â¹ï¸ ì •ì§€</button>
                <button onclick="pauseSpeaking()">â¸ï¸ ì¼ì‹œì •ì§€</button>
                <button onclick="resumeSpeaking()">â–¶ï¸ ì¬ê°œ</button>
            </div>
            
            <div id="status1" class="status"></div>
        </div>

        <!-- 2. í˜ì´ì§€ë³„ ìŒì„± ì•ˆë‚´ ë¯¸ë¦¬ë³´ê¸° -->
        <div class="test-section">
            <div class="test-title">
                ğŸ“± í˜ì´ì§€ë³„ ìŒì„± ì•ˆë‚´ ë¯¸ë¦¬ë³´ê¸°
            </div>
            
            <div class="preset-buttons">
                <button class="preset-btn" onclick="loadPresetText('home')">
                    ğŸ  í™ˆ í™”ë©´<br>
                    <small>í™˜ì˜ ë©”ì‹œì§€</small>
                </button>
                <button class="preset-btn" onclick="loadPresetText('page2')">
                    ğŸ›ï¸ í˜ì´ì§€ 2<br>
                    <small>ëª¨ì…˜ë² ë“œ ì†Œê°œ</small>
                </button>
                <button class="preset-btn" onclick="loadPresetText('page3')">
                    âš¡ í˜ì´ì§€ 3<br>
                    <small>ê¸°ëŠ¥ ì„¤ëª…</small>
                </button>
                <button class="preset-btn" onclick="loadPresetText('page16')">
                    ğŸ’¡ í˜ì´ì§€ 16<br>
                    <small>ë§ˆë¬´ë¦¬ ì•ˆë‚´</small>
                </button>
            </div>
            
            <textarea id="textInput2" placeholder="ì„ íƒí•œ í˜ì´ì§€ì˜ ìŒì„± ì•ˆë‚´ í…ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤..."></textarea>
            
            <div class="button-group">
                <button onclick="speakPageText()">ğŸ”Š í˜ì´ì§€ ìŒì„± ì¬ìƒ</button>
                <button onclick="testAllPages()">ğŸ¯ ì „ì²´ í˜ì´ì§€ í…ŒìŠ¤íŠ¸</button>
            </div>
            
            <div id="status2" class="status"></div>
        </div>

        <!-- 3. Vrew AI API í…ŒìŠ¤íŠ¸ (í–¥í›„ êµ¬í˜„) -->
        <div class="test-section">
            <div class="test-title">
                ğŸ¤– Vrew AI API í…ŒìŠ¤íŠ¸ (í–¥í›„ êµ¬í˜„)
            </div>
            <p>â€¢ Vrew AI API í‚¤ ì„¤ì •</p>
            <p>â€¢ ê³ í’ˆì§ˆ AI ìŒì„± ìƒì„±</p>
            <p>â€¢ ìì—°ìŠ¤ëŸ¬ìš´ ì–µì–‘ê³¼ ê°ì • í‘œí˜„</p>
            
            <textarea id="textInput3" placeholder="Vrew AIë¡œ ìƒì„±í•  í…ìŠ¤íŠ¸..." disabled>ì•„ì§ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤. Web Speech APIë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!</textarea>
            
            <div class="button-group">
                <button disabled>ğŸ”Š Vrew AI ìŒì„± ìƒì„±</button>
                <button disabled>ğŸ’¾ ìŒì„± íŒŒì¼ ì €ì¥</button>
            </div>
            
            <div id="status3" class="status">
                Vrew AI ì—°ë™ì€ API í‚¤ì™€ ì„œë²„ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentUtterance = null;
        let voices = [];
        
        // í˜ì´ì§€ë³„ ìŒì„± ì•ˆë‚´ í…ìŠ¤íŠ¸
        const PAGE_VOICE_SCRIPTS = {
            home: "ì•ˆë…•í•˜ì„¸ìš”! ë˜ë¡­í•„ë¡œ ëª¨ì…˜ë² ë“œ ì²´í—˜ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ì €ëŠ” ì—¬ëŸ¬ë¶„ì˜ í¸ì•ˆí•œ ìˆ˜ë©´ì„ ìœ„í•œ AI ê°€ì´ë“œì…ë‹ˆë‹¤. ì´ì œ í•¨ê»˜ ëª¨ì…˜ë² ë“œì˜ ë†€ë¼ìš´ ê¸°ëŠ¥ë“¤ì„ ì²´í—˜í•´ë³´ê² ìŠµë‹ˆë‹¤.",
            
            page2: "ì´ì œ ë˜ë¡­í•„ë¡œ ëª¨ì…˜ë² ë“œì˜ ê¸°ë³¸ ê¸°ëŠ¥ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ëª¨ì…˜ë² ë“œëŠ” ì—¬ëŸ¬ë¶„ì˜ ëª¸ì— ë§ì¶° ìë™ìœ¼ë¡œ ì¡°ì ˆë˜ëŠ” ë˜‘ë˜‘í•œ ì¹¨ëŒ€ì…ë‹ˆë‹¤. í—¤ë“œì™€ í’‹ ë¶€ë¶„ì„ ììœ ë¡­ê²Œ ì¡°ì ˆí•  ìˆ˜ ìˆì–´ìš”.",
            
            page3: "ëª¨ì…˜ë² ë“œì˜ íŠ¹ë³„í•œ ê¸°ëŠ¥ì„ ì²´í—˜í•´ë³´ì„¸ìš”. ë¦¬ëª¨ì»¨ì„ ì‚¬ìš©í•´ì„œ ì›í•˜ëŠ” ê°ë„ë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë…ì„œí•  ë•Œ, TVë¥¼ ë³¼ ë•Œ, ë˜ëŠ” ë‹¤ë¦¬ë¥¼ ì˜¬ë¦¬ê³  ì‹¶ì„ ë•Œ ì™„ë²½í•œ ìì„¸ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.",
            
            page16: "ì²´í—˜ì´ ê±°ì˜ ëë‚˜ê°€ë„¤ìš”! ë˜ë¡­í•„ë¡œ ëª¨ì…˜ë² ë“œì™€ ì²œì—° ë¼í…ìŠ¤ ë§¤íŠ¸ë¦¬ìŠ¤ì˜ ì¡°í•©ì€ ì—¬ëŸ¬ë¶„ê»˜ ìµœê³ ì˜ ìˆ˜ë©´ ê²½í—˜ì„ ì„ ì‚¬í•  ê²ƒì…ë‹ˆë‹¤. í¸ì•ˆí•œ ë°¤ê³¼ ìƒì¾Œí•œ ì•„ì¹¨ì„ ìœ„í•œ ì™„ë²½í•œ ì„ íƒì´ì—ìš”."
        };

        // ìŒì„± ì´ˆê¸°í™”
        function initVoices() {
            voices = speechSynthesis.getVoices();
            const voiceSelect = document.getElementById('voiceSelect');
            voiceSelect.innerHTML = '';
            
            // í•œêµ­ì–´ ìŒì„± ìš°ì„ ìœ¼ë¡œ ì •ë ¬
            const koreanVoices = voices.filter(voice => voice.lang.includes('ko'));
            const otherVoices = voices.filter(voice => !voice.lang.includes('ko'));
            
            [...koreanVoices, ...otherVoices].forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = `${voice.name} (${voice.lang})`;
                if (voice.default) option.textContent += ' - ê¸°ë³¸';
                voiceSelect.appendChild(option);
            });
            
            // ì²« ë²ˆì§¸ í•œêµ­ì–´ ìŒì„±ì„ ê¸°ë³¸ìœ¼ë¡œ ì„ íƒ
            if (koreanVoices.length > 0) {
                const koreanIndex = voices.indexOf(koreanVoices[0]);
                voiceSelect.value = koreanIndex;
            }
        }

        // ë²”ìœ„ ìŠ¬ë¼ì´ë” ê°’ ì—…ë°ì´íŠ¸
        function updateRangeValues() {
            document.getElementById('rateValue').textContent = document.getElementById('rateRange').value;
            document.getElementById('pitchValue').textContent = document.getElementById('pitchRange').value;
            document.getElementById('volumeValue').textContent = document.getElementById('volumeRange').value;
        }

        // ìŒì„± ì¬ìƒ
        function speakText() {
            const text = document.getElementById('textInput1').value;
            if (!text.trim()) {
                updateStatus('status1', 'í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }

            stopSpeaking();
            
            currentUtterance = new SpeechSynthesisUtterance(text);
            
            // ìŒì„± ì„¤ì • ì ìš©
            const voiceIndex = document.getElementById('voiceSelect').value;
            if (voices[voiceIndex]) {
                currentUtterance.voice = voices[voiceIndex];
            }
            
            currentUtterance.rate = parseFloat(document.getElementById('rateRange').value);
            currentUtterance.pitch = parseFloat(document.getElementById('pitchRange').value);
            currentUtterance.volume = parseFloat(document.getElementById('volumeRange').value);
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            currentUtterance.onstart = () => {
                updateStatus('status1', 'ğŸ”Š ìŒì„± ì¬ìƒ ì¤‘...', 'loading');
            };
            
            currentUtterance.onend = () => {
                updateStatus('status1', 'âœ… ìŒì„± ì¬ìƒ ì™„ë£Œ', 'success');
            };
            
            currentUtterance.onerror = (event) => {
                updateStatus('status1', `âŒ ì˜¤ë¥˜: ${event.error}`, 'error');
            };
            
            speechSynthesis.speak(currentUtterance);
        }

        // ìŒì„± ì •ì§€
        function stopSpeaking() {
            speechSynthesis.cancel();
            currentUtterance = null;
        }

        // ìŒì„± ì¼ì‹œì •ì§€
        function pauseSpeaking() {
            speechSynthesis.pause();
        }

        // ìŒì„± ì¬ê°œ
        function resumeSpeaking() {
            speechSynthesis.resume();
        }

        // í˜ì´ì§€ í…ìŠ¤íŠ¸ ë¡œë“œ
        function loadPresetText(pageKey) {
            const text = PAGE_VOICE_SCRIPTS[pageKey];
            document.getElementById('textInput2').value = text;
            updateStatus('status2', `ğŸ“± ${pageKey} í˜ì´ì§€ í…ìŠ¤íŠ¸ ë¡œë“œë¨`, 'success');
        }

        // í˜ì´ì§€ ìŒì„± ì¬ìƒ
        function speakPageText() {
            const text = document.getElementById('textInput2').value;
            if (!text.trim()) {
                updateStatus('status2', 'ë¨¼ì € í˜ì´ì§€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.', 'error');
                return;
            }

            document.getElementById('textInput1').value = text;
            speakText();
            updateStatus('status2', 'ğŸ”Š í˜ì´ì§€ ìŒì„± ì•ˆë‚´ ì¬ìƒ ì¤‘...', 'loading');
        }

        // ì „ì²´ í˜ì´ì§€ í…ŒìŠ¤íŠ¸
        async function testAllPages() {
            updateStatus('status2', 'ğŸ¯ ì „ì²´ í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ì‹œì‘...', 'loading');
            
            const pageKeys = Object.keys(PAGE_VOICE_SCRIPTS);
            
            for (let i = 0; i < pageKeys.length; i++) {
                const pageKey = pageKeys[i];
                loadPresetText(pageKey);
                
                updateStatus('status2', `ğŸ“± ${pageKey} í…ŒìŠ¤íŠ¸ ì¤‘... (${i + 1}/${pageKeys.length})`, 'loading');
                
                // ê° í˜ì´ì§€ë‹¹ 3ì´ˆ ì¬ìƒ í›„ ë‹¤ìŒìœ¼ë¡œ
                await new Promise(resolve => {
                    const text = PAGE_VOICE_SCRIPTS[pageKey].substring(0, 100) + "...";
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.rate = 1.2; // ë¹ ë¥´ê²Œ ì¬ìƒ
                    utterance.onend = resolve;
                    speechSynthesis.speak(utterance);
                });
                
                await new Promise(resolve => setTimeout(resolve, 1000)); // 1ì´ˆ ê°„ê²©
            }
            
            updateStatus('status2', 'âœ… ì „ì²´ í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!', 'success');
        }

        // ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateStatus(elementId, message, type) {
            const statusElement = document.getElementById(elementId);
            statusElement.textContent = message;
            statusElement.className = `status ${type}`;
        }

        // ì´ˆê¸°í™”
        function initialize() {
            // ìŒì„± ë¡œë“œ (ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ)
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = initVoices;
            }
            setTimeout(initVoices, 100);
            
            // ë²”ìœ„ ìŠ¬ë¼ì´ë” ì´ë²¤íŠ¸
            ['rateRange', 'pitchRange', 'volumeRange'].forEach(id => {
                document.getElementById(id).addEventListener('input', updateRangeValues);
            });
            
            updateRangeValues();
            
            console.log('ğŸ¤ AI ìŒì„± í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ');
            updateStatus('status1', 'ìŒì„± ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ', 'success');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.addEventListener('load', initialize);
    </script>
</body>
</html>
